<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ŸÜÿ™ÿßÿ¶ÿ¨ ÿßŸÑÿ™ÿ≠ÿØŸäÿßÿ™ - ÿßŸÑÿ¨ŸÖŸäÿπ</title>
    <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-auth-compat.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: #0f172a; color: #f8fafc; padding: 20px; line-height: 1.6; }
        .container { max-width: 600px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 20px; padding: 25px; background: linear-gradient(145deg, #1e293b, #0f172a); border-radius: 20px; border: 1px solid #fbbf24; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3); }
        .header h1 { color: #fbbf24; font-size: 24px; margin-bottom: 15px; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
        .search-box { width: 100%; padding: 5px 5px; border-radius: 12px; border: 1px solid #334155; background: #0f172a; color: white; outline: none; transition: 0.3s; margin-top: 1px; }
        .search-box:focus { border-color: #fbbf24; box-shadow: 0 0 0 2px rgba(251, 191, 36, 0.2); }
        .status-msg { background: #1e293b; padding: 12px; border-radius: 12px; text-align: center; margin-bottom: 15px; font-size: 13px; color: #94a3b8; border-right: 4px solid #fbbf24; }
        .result-card { background: #1e293b; border-radius: 18px; padding: 20px; margin-bottom: 15px; border: 1px solid #334155; transition: transform 0.2s; position: relative; overflow: hidden; }
        .result-card:hover { transform: translateY(-3px); border-color: #475569; }
        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; font-size: 11px; color: #94a3b8; }
        .match-date { background: #334155; padding: 2px 8px; border-radius: 5px; color: #cbd5e1; }
        .score-box { display: flex; justify-content: space-between; align-items: center; margin-top: 5px; position: relative; }
        .player { text-align: center; flex: 1; padding: 10px; border-radius: 12px; transition: 0.3s; width: 45%; }
        .player.winner { background: rgba(251, 191, 36, 0.1); border: 1px solid rgba(251, 191, 36, 0.3); position: relative; }
        .player.winner::after { content: 'üèÜ'; position: absolute; top: -10px; left: 50%; transform: translateX(-50%); font-size: 18px; }
        .player img { width: 55px; height: 55px; border-radius: 50%; border: 2px solid #334155; margin-bottom: 8px; object-fit: cover; background: #334155; }
        .winner img { border-color: #fbbf24; box-shadow: 0 0 15px rgba(251, 191, 36, 0.3); }
        .score-val { font-size: 38px; font-weight: 800; color: #fff; line-height: 1; }
        .winner .score-val { color: #fbbf24; }
        .vs { color: #475569; font-weight: bold; font-size: 16px; margin: 0 5px; }
        .footer-info { margin-top: 18px; font-size: 12px; color: #94a3b8; display: flex; justify-content: space-around; border-top: 1px solid #334155; padding-top: 12px; }
        .player-name { font-size: 13px; font-weight: bold; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 100px; margin: 0 auto 5px; }
        .error-log { background: #450a0a; color: #fca5a5; padding: 15px; border-radius: 10px; font-size: 12px; margin-top: 20px; display: none; direction: ltr; text-align: left; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        
        <input type="text" id="searchInput" class="search-box" placeholder="ÿ®ÿ≠ÿ´ ÿ®ÿßÿ≥ŸÖ ÿßŸÑŸÑÿßÿπÿ® ÿ£Ÿà ÿ±ŸÇŸÖ ÿßŸÑŸÖÿ®ÿßÿ±ÿßÿ©...">
    </div>

    <div id="status" class="status-msg">ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...</div>
    
    <div id="resultsArea"></div>
    <div id="errorLog" class="error-log"></div>
</div>

<script>
  const _0x55f9c1=_0x3f46;(function(_0x442919,_0x4d5fd1){const _0x12e6fa=_0x3f46,_0x10621b=_0x442919();while(!![]){try{const _0x30e426=-parseInt(_0x12e6fa(0x111))/0x1+-parseInt(_0x12e6fa(0xeb))/0x2+-parseInt(_0x12e6fa(0x109))/0x3*(-parseInt(_0x12e6fa(0x113))/0x4)+parseInt(_0x12e6fa(0x116))/0x5*(parseInt(_0x12e6fa(0x107))/0x6)+parseInt(_0x12e6fa(0xf4))/0x7+-parseInt(_0x12e6fa(0xf0))/0x8+parseInt(_0x12e6fa(0xfe))/0x9*(-parseInt(_0x12e6fa(0x10f))/0xa);if(_0x30e426===_0x4d5fd1)break;else _0x10621b['push'](_0x10621b['shift']());}catch(_0x26e2d9){_0x10621b['push'](_0x10621b['shift']());}}}(_0x625c,0xb1181));const firebaseConfig={'apiKey':_0x55f9c1(0xfd),'authDomain':_0x55f9c1(0x11c),'projectId':_0x55f9c1(0x106),'storageBucket':_0x55f9c1(0xf9),'appId':'1:1026865750415:web:0ee39a717bcafaa0d06bfa'};firebase[_0x55f9c1(0x10c)](firebaseConfig);const db=firebase[_0x55f9c1(0x119)](),statusEl=document[_0x55f9c1(0x10b)](_0x55f9c1(0x118)),resultsArea=document[_0x55f9c1(0x10b)]('resultsArea'),errorLog=document['getElementById'](_0x55f9c1(0x115)),searchInput=document[_0x55f9c1(0x10b)]('searchInput');let allMatches=[];loadAllData();function _0x625c(){const _0x1b8703=['Aw5UzxjuzxH0','nJC5mJq3mu9IreXQBa','Dg9mB2nHBgvtDhjPBMC','2ytyPYdyQTMi2kZyRYdyQTIT2k/zITIN2kOG2yxzHTIQ2yFzITIPinMb2yOG2kFzHnIZ2kZzHc4','CgXHEwvYCW','rvvXshu','C2jHCs1MyZq2zI5MAxjLyMfZzxn0B3jHz2uUyxbW','tgjMrfG','z2v0','inMf2kJyP9IX2kFyQsdzHDMg2kRzH9Mk2kKG2ytyRnMf2yRyUsdyP9Me2ytyP9I52kJzITMg','quL6yvn5rfLlq0nuy3vYtMnkC2XYtKTXzgLkq29jsuSTwvPbCKi0','odGYmtuZqNnYAeTd','2kRzHsdyUDIX2lyG','zgf0yq','rhL3shu','zM9YrwfJAa','CK93qLG','2yJzGTIQinI62yRySsdzHDI52lhzInMb','ChvZAa','C2jHCs1MyZq2zG','nNrttMHmuG','D2HLCMu','mZiXote2nuHIuxHXwG','C3r5Bgu','z2v0rwXLBwvUDej5swq','Aw5PDgLHBgL6zufWCa','yxiTruC','BwvZC2fNzq','mZbZv0XHA2W','tujkA0m','mta2nJq1m0fLy1Pnwa','B3HLEgi','nfjQz1r0ta','Dg9eyxrL','zxjYB3jmB2C','ndm4mJi5mgvev1vgCW','r2Tvzw0','C3rHDhvZ','zMLYzxn0B3jL','zgLZCgXHEq','mI1KAwDPDa','C2jHCs1MyZq2zI5MAxjLyMfZzwfWCc5JB20','zMvL','tvbUBha','pgiGC3r5Bgu9j2nVBg9YoInLzJq0ndqNpUkDJcdzGDI02yqG2kZzHnIOinIN2ytyQnMk2kFzHTIN2kOHpc9IpG','rxjYB3i6ia','y29SBgvJDgLVBG','s0H4rfq','mtqXnJqYng9UyujZAq','Aw5Uzxjive1m','DuTvCxa','uejZEhq','y3jLyxrLzef0','mtaWnJe4nhvODuLdCG','zw1WDhK','BgvUz3rO'];_0x625c=function(){return _0x1b8703;};return _0x625c();}function _0x3f46(_0x9ea10d,_0x1bc67b){const _0x625cdd=_0x625c();return _0x3f46=function(_0x3f46d5,_0x29795e){_0x3f46d5=_0x3f46d5-0xeb;let _0x4823d0=_0x625cdd[_0x3f46d5];if(_0x3f46['CwGWBC']===undefined){var _0x44e27e=function(_0x73ff59){const _0x5de670='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2c0278='',_0x57ca57='';for(let _0xc2c6e2=0x0,_0x4574a5,_0x11273e,_0xb642da=0x0;_0x11273e=_0x73ff59['charAt'](_0xb642da++);~_0x11273e&&(_0x4574a5=_0xc2c6e2%0x4?_0x4574a5*0x40+_0x11273e:_0x11273e,_0xc2c6e2++%0x4)?_0x2c0278+=String['fromCharCode'](0xff&_0x4574a5>>(-0x2*_0xc2c6e2&0x6)):0x0){_0x11273e=_0x5de670['indexOf'](_0x11273e);}for(let _0x1a9a31=0x0,_0x47df00=_0x2c0278['length'];_0x1a9a31<_0x47df00;_0x1a9a31++){_0x57ca57+='%'+('00'+_0x2c0278['charCodeAt'](_0x1a9a31)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x57ca57);};_0x3f46['QVNQIj']=_0x44e27e,_0x9ea10d=arguments,_0x3f46['CwGWBC']=!![];}const _0x58de0b=_0x625cdd[0x0],_0x3325d5=_0x3f46d5+_0x58de0b,_0x3a964f=_0x9ea10d[_0x3325d5];return!_0x3a964f?(_0x4823d0=_0x3f46['QVNQIj'](_0x4823d0),_0x9ea10d[_0x3325d5]=_0x4823d0):_0x4823d0=_0x3a964f,_0x4823d0;},_0x3f46(_0x9ea10d,_0x1bc67b);}async function loadAllData(){const _0x53eaa=_0x55f9c1,_0x46399b={'GkUem':function(_0x384972,_0x3d92ad){return _0x384972>=_0x3d92ad;},'zfGPP':_0x53eaa(0x104),'uKUqp':_0x53eaa(0x10d),'LbfDX':_0x53eaa(0x11b),'rOwBX':'rooms','KHxDT':'status','PBsxt':_0x53eaa(0xf6),'EUqHu':function(_0x32ee1,_0x31843e){return _0x32ee1(_0x31843e);},'MBJkC':_0x53eaa(0x11f),'oxexb':'block','DywHu':function(_0xd4b584,_0x32152a){return _0xd4b584+_0x32152a;},'MPnlp':_0x53eaa(0x120)};try{const _0x557819=await db[_0x53eaa(0x121)](_0x46399b[_0x53eaa(0x103)])[_0x53eaa(0x108)](_0x46399b[_0x53eaa(0x122)],'==','finished')[_0x53eaa(0xfb)]();if(_0x557819[_0x53eaa(0xf1)]){statusEl[_0x53eaa(0xf3)]=_0x46399b[_0x53eaa(0xee)];return;}allMatches=[],_0x557819[_0x53eaa(0x102)](_0x57ffa7=>{const _0x40fb96=_0x53eaa,_0x5db50d=_0x57ffa7[_0x40fb96(0x100)](),_0x48caee=_0x5db50d[_0x40fb96(0xf7)]||[];if(_0x46399b[_0x40fb96(0x117)](_0x48caee[_0x40fb96(0xf2)],0x2)){let _0xd4189d=_0x46399b['zfGPP'];if(_0x5db50d[_0x40fb96(0xef)]){const _0x450209=_0x5db50d['createdAt']['toDate']?_0x5db50d[_0x40fb96(0xef)][_0x40fb96(0x114)]():new Date(_0x5db50d['createdAt']);_0xd4189d=_0x450209[_0x40fb96(0xf5)](_0x46399b[_0x40fb96(0xed)],{'hour':_0x46399b[_0x40fb96(0xfa)],'minute':_0x46399b[_0x40fb96(0xfa)],'day':_0x46399b['LbfDX'],'month':_0x46399b[_0x40fb96(0xfa)]});}allMatches[_0x40fb96(0x105)]({'id':_0x57ffa7['id'],'player1':_0x48caee[0x0],'player2':_0x48caee[0x1],'fee':_0x5db50d[_0x40fb96(0x11d)]||0x0,'time':_0xd4189d});}}),_0x46399b[_0x53eaa(0xf8)](renderMatches,allMatches),statusEl[_0x53eaa(0xf3)]=_0x53eaa(0xff)+allMatches['length']+_0x53eaa(0xfc);}catch(_0xaeb696){console['error'](_0xaeb696),statusEl[_0x53eaa(0xec)]=_0x46399b[_0x53eaa(0x110)],errorLog[_0x53eaa(0x10a)][_0x53eaa(0x11a)]=_0x46399b[_0x53eaa(0x112)],errorLog[_0x53eaa(0xf3)]=_0x46399b[_0x53eaa(0x101)](_0x46399b[_0x53eaa(0x11e)],_0xaeb696[_0x53eaa(0x10e)]);}}

    function renderMatches(matches) {
        if (matches.length === 0) {
            resultsArea.innerHTML = "<div style='text-align:center; padding:20px; color:#64748b'>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÜÿ™ÿßÿ¶ÿ¨ ŸÖÿ∑ÿßÿ®ŸÇÿ©</div>";
            return;
        }

        resultsArea.innerHTML = matches.map(match => {
            const s1 = match.player1.score || 0;
            const s2 = match.player2.score || 0;
            
            return `
            <div class="result-card">
                <div class="card-header">
                    <span>ID: #${match.id.substring(0, 6)}</span>
                    <span class="match-date">üìÖ ${match.time}</span>
                </div>
                <div class="score-box">
                    <div class="player ${s1 > s2 ? 'winner' : ''}">
                        <img src="${match.player1.photo || 'https://ui-avatars.com/api/?name=' + match.player1.name}" onerror="this.src='https://ui-avatars.com/api/?name=P1'">
                        <div class="player-name">${match.player1.name || 'ŸÑÿßÿπÿ® 1'}</div>
                        <div class="score-val">${s1}</div>
                    </div>
                    <div class="vs">VS</div>
                    <div class="player ${s2 > s1 ? 'winner' : ''}">
                        <img src="${match.player2.photo || 'https://ui-avatars.com/api/?name=' + match.player2.name}" onerror="this.src='https://ui-avatars.com/api/?name=P2'">
                        <div class="player-name">${match.player2.name || 'ŸÑÿßÿπÿ® 2'}</div>
                        <div class="score-val">${s2}</div>
                    </div>
                </div>
                <div class="footer-info">
                    <span>üí∞ ÿßŸÑÿ¨ÿßÿ¶ÿ≤ÿ©: <b style="color:#fbbf24">${Math.round(match.fee * 1.8)}</b></span>
                    <span>üé´ ÿßŸÑÿ±ÿ≥ŸàŸÖ: ${match.fee}</span>
                </div>
            </div>
            `;
        }).join('');
    }

    searchInput.addEventListener('input', (e) => {
        const term = e.target.value.toLowerCase();
        const filtered = allMatches.filter(m => 
            (m.player1.name && m.player1.name.toLowerCase().includes(term)) || 
            (m.player2.name && m.player2.name.toLowerCase().includes(term)) || 
            m.id.toLowerCase().includes(term)
        );
        renderMatches(filtered);
    });
</script>
</body>
</html>
